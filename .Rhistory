group_by(group) %>%
mutate(ycount = n()/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
scale_x_discrete(labels = c("All Time", "6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For",today))
mgroups %>%
group_by(group) %>%
mutate(ycount = n()/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount))
mgroups %>%
group_by(group) %>%
mutate(ycount = n())#/as.numeric(diff(range(date)))) %>%
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount))
as.Date(KDAt$date[1], format = "%b")
as.Date(KDAt$date[1], format = "%m")
as.Date(KDAt$date[1], format = "%M")
as.Date(KDAt$date[1], format = "%d")
month(KDAt$date[1])
month(KDAt$date[1], label = TRUE)
month(, abbr= FALSE)
month(KDAt$date[1], label = TRUE, abbr = FALSE)
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount))
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("All Time", "6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For", today))
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For", today))
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For", search_top))
search_bottom <- min_date
search_top <- floor_date(max(KDAt$date), unit = "month") -1
blank_m <- tibble(date = seq.Date(from = min_date, to = stop_date, by = "month"))
#OPEC crude oil
oil <- Quandl(code = "OPEC/ORB", collapse = 'monthly',
start_date = search_bottom, end_date = search_top) %>%
mutate(date = floor_date(Date, unit = "month")) %>%
right_join(blank_m, by = "date") # arranges high to low
past(oil, Value)
exam(oil_lgd)
#E-mini Natural Gas Futures, Continuous Contract #1 (QG1) (Front Month)
NGF1 <- Quandl("CHRIS/CME_QG1", collapse = 'monthly', start_date = search_bottom, end_date = search_top) %>%
mutate(date = floor_date(as.Date(Date), unit = "month")) %>%
right_join(blank_m, by = "date")
past(NGF1, Settle)
exam(NGF1_lgd)
#E-mini Natural Gas Futures, Continuous Contract #2 (QG2)
NGF2 <- Quandl("CHRIS/CME_QG2", collapse = 'monthly', start_date = search_bottom, end_date = search_top) %>%
mutate(date = floor_date(as.Date(Date), unit = "month")) %>%
right_join(blank_m, by = "date")
past(NGF2, Volume)
exam(NGF2_lgd)
#90 Day Bank Accepted Bills Futures, Continuous Contract #1 (IR1) (Front Month)
IR1 <- Quandl("CHRIS/ASX_IR1", collapse = 'monthly', start_date = search_bottom, end_date = search_top) %>%
mutate(date = floor_date(as.Date(Date), unit = "month")) %>%
right_join(blank_m, by = "date")
past(IR1, `Previous Settlement`)
exam(IR1_lgd)
#House Price Indices - Seattle-Tacoma-Bellevue WA
HPISTB <- Quandl("FMAC/HPI_42660", collapse = 'monthly', start_date = search_bottom, end_date = search_top) %>%
mutate(date = floor_date(as.Date(Date), unit = "month")) %>%
right_join(blank_m, by = "date")
past(HPISTB, `SA Value`)
exam(HPISTB_lgd)
#HPI - Washington State
HPIWA <- Quandl("FMAC/HPI_WA", collapse = 'monthly', start_date = search_bottom, end_date = search_top) %>%
mutate(date = floor_date(as.Date(Date), unit = "month")) %>%
right_join(blank_m, by = "date")
past(HPIWA, `SA Value`)
exam(HPIWA_lgd)
#15-Year Fixed Rate Mortgage Average in the United States
FRM15 <- Quandl("FMAC/15US", collapse = 'monthly', start_date = search_bottom, end_date = search_top) %>%
mutate(date = floor_date(as.Date(Date), unit = "month")) %>%
right_join(blank_m, by = "date")
past(FRM15)
exam(FRM15_lgd)
mgroups <- KDAt %>%
mutate(group = ifelse(date >= pmonth & date <= pomonth, 0, # last 6 months
ifelse(date >= pmonth - months(1), 1, # month before
ifelse(date >= pmonth - months(2), 2,
ifelse(date >= pmonth - months(3), 3,
ifelse(date >= pmonth - months(4), 4,
ifelse(date >= pmonth - months(5), 5,
ifelse(date >= pmonth - months(6), 6, 7)))))))) %>%
dplyr::filter(group != 7)# 6 months
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For", search_top))
theme_set(ljtheme())
theme_minimal() %+replace%
theme(
panel.grid.major = element_line(linetype = "solid", color = llightblue, size = 0.1),
panel.grid.minor = element_blank(),
panel.background = element_rect(fill = white), #light
panel.border = element_rect(color = lightblue, fill = NA, linetype = "solid", size = 2),
legend.background = element_rect(fill = white, color = lightblue, size = 1), # legend
legend.text = element_text(color = blue),
legend.title = element_text(face = "bold.italic", color = blue),
legend.position = "bottom",
legend.key = element_rect(fill = white),
text = element_text(color = white),
axis.title = element_text(face = "italic", size = 11, color = white),
axis.text = element_text(color = white, size = 9),
axis.ticks = element_line(color = white, size = .5, lineend = "butt"),
axis.ticks.length = unit(.1, "cm"),
plot.title = element_text(face = "bold", # labels
color = white, size = 14, hjust = 0, vjust = 1.5),
plot.subtitle = element_text(color = white, hjust = 0, vjust = 1.5, face = "italic"),
plot.caption = element_text(color = white, face = "bold"),
plot.background = element_rect(fill = blue)
)
pal <- c("#f6aa1c","#08415c","#6b818c","#eee5e9","#ba7ba1","#c28cae","#a52a2a")
blue <- "#114482"
lightblue <- "#146ff8"
llightblue <- "#AFCFFF"
red <- "#a52a2a"
white <- "#FBFFF1"
yellow <- "#F6AA1C"
ljtheme <- function(){
theme_minimal() %+replace%
theme(
panel.grid.major = element_line(linetype = "solid", color = llightblue, size = 0.1),
panel.grid.minor = element_blank(),
panel.background = element_rect(fill = white), #light
panel.border = element_rect(color = lightblue, fill = NA, linetype = "solid", size = 2),
legend.background = element_rect(fill = white, color = lightblue, size = 1), # legend
legend.text = element_text(color = blue),
legend.title = element_text(face = "bold.italic", color = blue),
legend.position = "bottom",
legend.key = element_rect(fill = white),
text = element_text(color = white),
axis.title = element_text(face = "italic", size = 11, color = white),
axis.text = element_text(color = white, size = 9),
axis.ticks = element_line(color = white, size = .5, lineend = "butt"),
axis.ticks.length = unit(.1, "cm"),
plot.title = element_text(face = "bold", # labels
color = white, size = 14, hjust = 0, vjust = 1.5),
plot.subtitle = element_text(color = white, hjust = 0, vjust = 1.5, face = "italic"),
plot.caption = element_text(color = white, face = "bold"),
plot.background = element_rect(fill = blue)
)
}
theme_set(ljtheme())
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For", search_top))
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For", search_top))
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month in Numbers",
subtitle = paste("For", search_top))
month(date, label = TRUE, abbr = FALSE)
KDAt %>%
month(date, label = TRUE, abbr = FALSE)
month(today)
repon <- pomonth
repon <- pomonth + 1
repfor <- paste0(month(pomonth, label = TRUE, abbr = FALSE), ",", year(pmonth))
repfor <- paste0(month(pomonth, label = TRUE, abbr = FALSE), ", ", year(pmonth))
subtitle = paste("For", repfor)
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month Sales",
subtitle = paste("For", repfor))
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = c("6 Months", "5 Months", "4 Months",
"3 Months", "2 Months", "1 Month", "Last Month")) +
labs(title = "Last Month Sales",
subtitle = paste0("For ", repfor))
month(pomonth, label = TRUE, abbr = FALSE)
month(pomonth, label = TRUE, abbr = FALSE) -1
month(pomonth, label = TRUE, abbr = FALSE) - 1
month(pomonth -1, label = TRUE, abbr = FALSE)
month(pomonth - 1, label = TRUE, abbr = FALSE)
month(pomonth - month(1), label = TRUE, abbr = FALSE)
month(1)
month(31)
month(pomonth - month(1), label = TRUE, abbr = FALSE)
month(pomonth -1, label = TRUE, abbr = FALSE)
month(pomonth - 30, label = TRUE, abbr = FALSE)
month(pmonth, label = TRUE, abbr = FALSE)
month(pmonth -1, label = TRUE, abbr = FALSE)
month(pmonth - month(1), label = TRUE, abbr = FALSE)
month(pmonth - month(2), label = TRUE, abbr = FALSE)
month(pmonth - month(3), label = TRUE, abbr = FALSE)
month(pmonth - month(3), label = TRUE, abbr = FALSE)
month(pmonth - 1, label = TRUE, abbr = FALSE)
month(pmonth - months(1), label = TRUE, abbr = FALSE)
month(pmonth - months(2), label = TRUE, abbr = FALSE)
month(pmonth - months(3), label = TRUE, abbr = FALSE)
mlabs <- c(0 = month(pmonth, label = TRUE, abbr = FALSE),
mlabs <- c(0 = month(pmonth, label = TRUE, abbr = FALSE),
mlabs <- c(0 = month(pmonth, label = TRUE, abbr = FALSE),
mlabs <- c(0 = month(pmonth, label = TRUE, abbr = FALSE),
mlabs <- c("0" = month(pmonth, label = TRUE, abbr = FALSE),
"1" = month(pmonth - months(1), label = TRUE, abbr = FALSE),
"2" = month(pmonth - months(2), label = TRUE, abbr = FALSE),
"3" = month(pmonth - months(3), label = TRUE, abbr = FALSE),
"4" = month(pmonth - months(4), label = TRUE, abbr = FALSE),
"5" = month(pmonth - months(5), label = TRUE, abbr = FALSE),
"6" = month(pmonth - months(6), label = TRUE, abbr = FALSE))
mlabs <- function(x) {
# key <- c("0" = month(pmonth, label = TRUE, abbr = FALSE),
#          "1" = month(pmonth - months(1), label = TRUE, abbr = FALSE),
#          "2" = month(pmonth - months(2), label = TRUE, abbr = FALSE),
#          "3" = month(pmonth - months(3), label = TRUE, abbr = FALSE),
#          "4" = month(pmonth - months(4), label = TRUE, abbr = FALSE),
#          "5" = month(pmonth - months(5), label = TRUE, abbr = FALSE),
#          "6" = month(pmonth - months(6), label = TRUE, abbr = FALSE))
paste0(month(pmonth - months(x), label = TRUE, abbr = FALSE))
}
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete() +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete() +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs) +
labs(title = "Raw Sales")
mlabs <- function(x) {
# key <- c("0" = month(pmonth, label = TRUE, abbr = FALSE),
#          "1" = month(pmonth - months(1), label = TRUE, abbr = FALSE),
#          "2" = month(pmonth - months(2), label = TRUE, abbr = FALSE),
#          "3" = month(pmonth - months(3), label = TRUE, abbr = FALSE),
#          "4" = month(pmonth - months(4), label = TRUE, abbr = FALSE),
#          "5" = month(pmonth - months(5), label = TRUE, abbr = FALSE),
#          "6" = month(pmonth - months(6), label = TRUE, abbr = FALSE))
paste0(month(pmonth - months(as.numeric(x)), label = TRUE, abbr = FALSE))
}
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs) +
sclae_x_reverse() +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs) +
scale_x_reverse() +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_reverse(labels = mlabs)
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_reverse(labels = mlabs) +
labs(title = "Raw Sales")
mlabs <- function(x) {
paste0(month(pmonth - months(as.numeric(x)), label = TRUE, abbr = FALSE))
}
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_reverse(labels = mlabs) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, reverse = TRUE) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, limits = rev) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, limits = rev) +
labs(title = "Raw Sales")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity") +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, limits = rev) +
labs(title = "Raw Sales",
y = "Number of Sales",
x = "")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount), stat = "identity", fill = lightblue) +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, limits = rev) +
labs(title = "Raw Sales",
y = "Number of Sales",
x = "")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount),
stat = "identity", fill = lightblue, alpha = 0.4) +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, limits = rev) +
labs(title = "Raw Sales",
y = "Number of Sales",
x = "")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = rev(factor(group)), y = ycount),
stat = "identity", fill = lightblue, alpha = 0.6) +
geom_label(aes(x = rev(factor(group)), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, limits = rev) +
labs(title = "Raw Sales",
y = "Number of Sales",
x = "")
mgroups %>%
group_by(group) %>%
mutate(ycount = n()) %>%#/as.numeric(diff(range(date)))) %>%
summarise(group, ycount) %>%
distinct() %>%
ggplot() + geom_bar(aes(x = factor(group), y = ycount),
stat = "identity", fill = lightblue, alpha = 0.6) +
geom_label(aes(x = factor(group), y = ycount, label = ycount)) +
scale_x_discrete(labels = mlabs, limits = rev) +
labs(title = "Raw Sales",
y = "Number of Sales",
x = "")
# report would be made on the 1st of
repon <- pomonth + 1
glimpse(KDAt)
summary(KDAt)
